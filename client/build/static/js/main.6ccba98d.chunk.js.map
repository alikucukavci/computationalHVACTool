{"version":3,"sources":["components/Signup.js","services/api.js","components/Login.js","components/Navbar.js","components/ProjectBar.js","components/CreateProject.js","components/UploadFile.js","components/ThreeJS.js","components/Projects.js","components/Home.js","App.js","serviceWorker.js","index.js"],"names":["Signup","props","useState","username","password","message","userInfo","setUserInfo","handleChange","event","target","name","value","Form","onSubmit","preventDefault","axios","post","then","response","data","catch","err","signup","setUser","history","push","Group","Label","htmlFor","Control","type","onChange","id","Alert","variant","Button","Login","login","handleLogout","delete","Navbar","className","bg","user","Brand","to","onClick","ProjectBar","projects","map","x","setOneProject","setDisplay","title","CreateProject","FileReader","onload","setFile","JSON","parse","result","setcreateNewProject","createNewProject","description","owner","_id","console","log","get","setProjects","UploadFile","fileReader","newFile","rooms","i","put","project","file","readAsText","onError","accepts","multiple","maxFiles","maxFileSize","minFileSize","clickable","ThreeJS","state","popup","roomName","roomNumber","roomVolume","roomArea","roomAHU","roomAirflow","roomID","perc2color","perc","r","g","Math","round","b","toString","slice","closePopup","ev","setState","start","frameId","requestAnimationFrame","animate","stop","cancelAnimationFrame","renderScene","window","renderer","render","scene","camera","handleSubmit","updatedProjects","this","jsonFile","forEach","room","mesh","children","find","AHU","Airflow","color","THREE","material","innerWidth","innerHeight","position","z","antialias","setClearColor","setSize","mount","appendChild","domElement","controls","OrbitControls","interaction","Interaction","cubeArr","lineArr","length","geometry","size","y","line","set","Name","Number","Volume","Area","cursor","on","uuid","add","lightAmbient","sunLight","removeChild","tabIndex","role","aria-labelledby","aria-hidden","data-dismiss","aria-label","style","width","height","ref","Component","Projects","display","oneProject","useEffect","Home","App","exact","path","component","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"0gBAKA,IAoEiBA,EApEF,SAACC,GAAW,IAAD,EACQC,mBAAS,CACvCC,SAAU,GACVC,SAAU,GACVC,QAAS,KAJa,mBACjBC,EADiB,KACPC,EADO,KAOhBC,EAAe,SAAAC,GAAU,IAAD,EACJA,EAAMC,OAAtBC,EADoB,EACpBA,KAAMC,EADc,EACdA,MAEdL,E,yVAAY,CAAD,GACND,EADM,eACKK,EAAOC,MAyBvB,OACE,oCACE,sCACA,kBAACC,EAAA,EAAD,CAAMC,SAxBS,SAAAL,GACnBA,EAAMM,iBClBG,SAACZ,EAAUC,GACxB,OAAOY,IACJC,KAAK,mBAAoB,CAAEd,WAAUC,aACrCc,MAAK,SAAAC,GACJ,OAAOA,EAASC,QAEjBC,OAAM,SAAAC,GACL,OAAOA,EAAIH,SAASC,QDepBG,CAF+BjB,EAAvBH,SAAuBG,EAAbF,UAESc,MAAK,SAAAE,GAC1BA,EAAKf,QACPE,EAAY,CACVF,QAASe,EAAKf,QACdF,SAAU,GACVC,SAAU,MAKZH,EAAMuB,QAAQJ,GACdnB,EAAMwB,QAAQC,KAAK,mBASjB,kBAACb,EAAA,EAAKc,MAAN,KACE,kBAACd,EAAA,EAAKe,MAAN,CAAYC,QAAQ,YAApB,cACA,kBAAChB,EAAA,EAAKiB,QAAN,CACEC,KAAK,OACLpB,KAAK,WACLC,MAAON,EAASH,SAChB6B,SAAUxB,EACVyB,GAAG,cAGP,kBAACpB,EAAA,EAAKc,MAAN,KACE,kBAACd,EAAA,EAAKe,MAAN,CAAYC,QAAQ,YAApB,cACA,kBAAChB,EAAA,EAAKiB,QAAN,CACEC,KAAK,WACLpB,KAAK,WACLC,MAAON,EAASF,SAChB4B,SAAUxB,EACVyB,GAAG,cAGN3B,EAASD,SACR,kBAAC6B,EAAA,EAAD,CAAOC,QAAQ,UAAU7B,EAASD,SAEpC,kBAAC+B,EAAA,EAAD,CAAQL,KAAK,UAAb,a,8NEhEZ,IAqEeM,EArED,SAACpC,GAAW,IAAD,EACSC,mBAAS,CACvCC,SAAU,GACVC,SAAU,GACVC,QAAS,KAJY,mBAChBC,EADgB,KACNC,EADM,KAOjBC,EAAe,SAAAC,GAAU,IAAD,EACJA,EAAMC,OAAtBC,EADoB,EACpBA,KAAMC,EADc,EACdA,MAEdL,E,yVAAY,IACPD,EADM,eACKK,EAAOC,MAyBvB,OACE,oCACE,qCACA,kBAACC,EAAA,EAAD,CAAMC,SAxBS,SAAAL,GACnBA,EAAMM,iBDNI,SAACZ,EAAUC,GACvB,OAAOY,IACJC,KAAK,kBAAmB,CAAEd,WAAUC,aACpCc,MAAK,SAAAC,GACJ,OAAOA,EAASC,QAEjBC,OAAM,SAAAC,GACL,OAAOA,EAAIH,SAASC,QCGtBkB,CAF+BhC,EAAvBH,SAAuBG,EAAbF,UAEQc,MAAK,SAAAE,GACzBA,EAAKf,QACPE,EAAY,CACVF,QAASe,EAAKf,QACdF,SAAU,GACVC,SAAU,MAKZH,EAAMuB,QAAQJ,GACdnB,EAAMwB,QAAQC,KAAK,mBASjB,kBAACb,EAAA,EAAKc,MAAN,KACE,kBAACd,EAAA,EAAKe,MAAN,CAAYC,QAAQ,YAApB,cACA,kBAAChB,EAAA,EAAKiB,QAAN,CACEC,KAAK,OACLpB,KAAK,WACLC,MAAON,EAASH,SAChB6B,SAAUxB,EACVyB,GAAG,cAGP,kBAACpB,EAAA,EAAKc,MAAN,KACE,kBAACd,EAAA,EAAKe,MAAN,CAAYC,QAAQ,YAApB,cACA,kBAAChB,EAAA,EAAKiB,QAAN,CACEC,KAAK,WACLpB,KAAK,WACLC,MAAON,EAASF,SAChB4B,SAAUxB,EACVyB,GAAG,cAGN3B,EAASD,SACR,kBAAC6B,EAAA,EAAD,CAAOC,QAAQ,UAAU7B,EAASD,SAEpC,kBAAC+B,EAAA,EAAD,CAAQL,KAAK,UAAb,Y,wBC9DJQ,EAAe,SAAAtC,GFqBZe,IACJwB,OAAO,oBACPtB,MAAK,SAAAC,GACJ,OAAOA,EAASC,QAEjBC,OAAM,SAAAC,GACL,OAAOA,EAAIH,SAASC,QE1BfF,MAAK,WACZjB,EAAMuB,QAAQ,UAqCHiB,EAjCA,SAAAxC,GACb,OACE,kBAAC,IAAD,CAAKyC,UAAU,oCAAoCC,GAAG,WACnD1C,EAAM2C,MAAQ,kBAAC,IAAIC,MAAL,iBAAqB5C,EAAM2C,KAAKzC,UAC/C,kBAAC,IAAI0C,MAAL,KACE,kBAAC,IAAD,CAAMC,GAAG,KAAT,SAGD7C,EAAM2C,KACL,oCACE,kBAAC,IAAIC,MAAL,KACE,kBAAC,IAAD,CAAMC,GAAG,aAAT,aAEF,kBAAC,IAAID,MAAL,KACE,kBAAC,IAAD,CAAMC,GAAG,IAAIC,QAAS,kBAAMR,EAAatC,KAAzC,YAMJ,oCACE,kBAAC,IAAI4C,MAAL,KACE,kBAAC,IAAD,CAAMC,GAAG,WAAT,WAEF,kBAAC,IAAID,MAAL,KACE,kBAAC,IAAD,CAAMC,GAAG,UAAT,aCXGE,EAvBI,SAAC/C,GAIhB,OACI,yBAAKyC,UAAU,oBACX,wCAECzC,EAAMgD,SAASC,KAAI,SAAAC,GAChB,OACI,yBAAKJ,QAAS,WAEV9C,EAAMmD,cAAcD,GACpBlD,EAAMoD,WAAW,aACjBF,EAAEG,UAId,4BAAQP,QAAS,kBAAI9C,EAAMoD,WAAW,SAAUX,UAAU,gBAA1D,S,+OCdZ,IAiGea,EAjGO,SAACtD,IAEJ,IAAIuD,YACVC,OAAS,SAAAhD,GAChBR,EAAMyD,QAAQC,KAAKC,MAAMnD,EAAMC,OAAOmD,UAG5C,IAAMrD,EAAe,SAAAC,GAAU,IAAD,EACFA,EAAMC,OAAtBC,EADkB,EAClBA,KAAMC,EADY,EACZA,MAEdX,EAAM6D,oB,yVAAN,IACK7D,EAAM8D,iBADX,eAC8BpD,EAAOC,MA8BrC,OACI,6BACA,0CACA,kBAACC,EAAA,EAAD,CAAMC,SA7BW,SAAAL,GACjBA,EAAMM,iBAENC,IACGC,KAAK,gBAAiB,CACrBqC,MAAOrD,EAAM8D,iBAAiBT,MAC9BU,YAAa/D,EAAM8D,iBAAiBC,YACpCC,MAAOhE,EAAM2C,KAAKsB,MAEnBhD,MAAK,SAACC,GACLgD,QAAQC,IAAIjD,EAASC,MACrBnB,EAAMoD,WAAW,iBAElBhC,OAAM,SAAAC,GACL6C,QAAQC,IAAI9C,MAGdN,IAAMqD,IAAN,wBAA2BpE,EAAM2C,KAAKsB,MAAOhD,MAAK,SAAA+B,GAC9ChD,EAAMqE,YAAYrB,EAAS7B,MAC3B+C,QAAQC,IAAInB,EAAS7B,WAWzB,kBAACP,EAAA,EAAKc,MAAN,KACE,kBAACd,EAAA,EAAKe,MAAN,eACA,kBAACf,EAAA,EAAKiB,QAAN,CACEC,KAAK,OACLpB,KAAK,QACLC,MAAOX,EAAM8D,iBAAiBT,MAC9BtB,SAAUxB,KAGd,kBAACK,EAAA,EAAKc,MAAN,KACE,kBAACd,EAAA,EAAKe,MAAN,qBACA,kBAACf,EAAA,EAAKiB,QAAN,CACEC,KAAK,OACLpB,KAAK,cACLC,MAAOX,EAAM+D,YACbhC,SAAUxB,KAwBhB,kBAAC4B,EAAA,EAAD,CAAQL,KAAK,UAAb,UCvCOwC,EA9CI,SAACtE,GAElB,IAAIuE,EAAa,IAAIhB,WAoBrB,OAnBAgB,EAAWf,OAAS,SAAAhD,GAClB,IAAIgE,EAAUd,KAAKC,MAAMnD,EAAMC,OAAOmD,QAGtCY,EAAQC,MAAQD,EAAQC,MAAMxB,KAAI,SAACC,EAAEwB,GAEnC,OADAxB,EAAElB,GAAK0C,EACAxB,KAGTlD,EAAMyD,QAAQe,GACdzD,IAAM4D,IAAN,wBAA2B3E,EAAM4E,QAAQX,KAAO,CAC9CY,KAAML,IACLvD,MAAK,SAAAC,GACNlB,EAAMmD,cAAcjC,EAASC,MAC7BnB,EAAMoD,WAAW,eAMnB,yBAAKX,UAAU,eACf,kBAAC7B,EAAA,EAAKc,MAAN,KACM,yBAAKe,UAAU,SACjB,kBAAC,IAAD,CACEA,UAAU,iBACVV,SAAU,SAAA8C,GACRN,EAAWO,WAAWD,EAAK,KAE7BE,QAAS,SAAA1D,GAAG,OAAI6C,QAAQC,IAAI9C,IAC5B2D,QAAS,CAAC,SACVC,UAAQ,EACRC,SAAU,EACVC,YAAa,IACbC,YAAa,EACbC,WAAS,GAXX,wCAHJ,S,wECpBiBC,E,2MACnBC,MAAQ,CACNC,OAAO,EACPxD,GAAI,GACJyD,SAAU,GACVC,WAAY,EACZC,WAAY,EACZC,SAAU,EACVC,QAAS,EACTC,YAAa,EACbC,OAAQ,I,EAIVC,WAAW,SAACC,GAEV,IAAIC,EAAGC,EAUP,OATGF,EAAO,IACNC,EAAI,IACJC,EAAIC,KAAKC,MAAM,IAAMJ,KAGrBE,EAAI,IACJD,EAAIE,KAAKC,MAAM,IAAM,IAAOJ,IAGxB,KAAM,UADF,MAAJC,EAAkB,IAAJC,EAAYG,GACPC,SAAS,KAAKC,OAAO,I,EAmJlDC,WAAa,SAACC,GACZ,EAAKC,SAAS,CACVnB,OAAQ,EAAKD,MAAMC,S,EAIzBjF,aAAe,SAAAC,GAAU,IAAD,EACEA,EAAMC,OAAtBC,EADc,EACdA,KAAMC,EADQ,EACRA,MACd,EAAKgG,SAAL,eAAiBjG,EAAOC,K,EAQ5BiG,MAAQ,WACC,EAAKC,UACR,EAAKA,QAAUC,sBAAsB,EAAKC,W,EAGhDC,KAAO,WACHC,qBAAqB,EAAKJ,U,EAE9BE,QAAU,WAKP,EAAKG,cACL,EAAKL,QAAUM,OAAOL,sBAAsB,EAAKC,U,EAEpDG,YAAc,WACZ,EAAKE,SAASC,OAAO,EAAKC,MAAO,EAAKC,S,EAGtCC,aAAe,SAAAhH,GACbA,EAAMM,iBADgB,MAGiB,EAAKyE,MAArCM,EAHe,EAGfA,QAASC,EAHM,EAGNA,YAAaC,EAHP,EAGOA,OAC7B7B,QAAQC,IAAI,EAAKnE,MAAM4E,SACvB7D,IAAM4D,IAAN,wBAA2B,EAAK3E,MAAM4E,QAAQX,KAAO,CACnD4B,UAASC,cAAaC,WACrB9E,MAAK,SAAAC,GACN,EAAKlB,MAAMmD,cAAcjC,EAASC,MACpC,IAAIsG,EAAmB,EAAKzH,MAAMgD,SAASC,KAAI,SAAA2B,GAC3C,OAAIA,EAAQX,MAAQ/C,EAASC,KAAK8C,IACzB/C,EAASC,KACLyD,KAEf,EAAK5E,MAAMqE,YAAYoD,O,oFAjLL,IAAD,OAInBC,KAAK1H,MAAM2H,SAASlD,MAAMmD,SAAQ,SAACC,EAAKnD,GAEtC,IAAMoD,EAAO,EAAKR,MAAMS,SAASC,MAAK,SAAA9E,GAAC,OAAIA,EAAE6C,SAAW8B,EAAK7F,MAC7D8F,EAAKG,IAAMJ,EAAKhC,QAChBiC,EAAKI,QAAUL,EAAK/B,YACpB,IAAIqC,EAAQ,IAAIC,QAAY,EAAKpC,WAAW8B,EAAKI,UAEhDJ,EAAKO,SAASF,MAAQA,O,0CAMP,IAAD,OAIjBT,KAAKJ,MAAQ,IAAIc,QAEjBV,KAAKH,OAAS,IAAIa,oBAChB,GACAjB,OAAOmB,WAAanB,OAAOoB,YAC3B,GACA,KAGFb,KAAKH,OAAOiB,SAASC,EAAI,IAEzBf,KAAKN,SAAW,IAAIgB,gBAAoB,CAAEM,WAAW,IACrDhB,KAAKN,SAASuB,cAAc,WAC5BjB,KAAKN,SAASwB,QAAQzB,OAAOmB,WAAYnB,OAAOoB,aAChDb,KAAKmB,MAAMC,YAAYpB,KAAKN,SAAS2B,YAErCrB,KAAKsB,SAAW,IAAIC,IAAcvB,KAAKH,OAAQG,KAAKN,SAAS2B,YAG7DrB,KAAKwB,YAAc,IAAIC,IAAYzB,KAAKN,SAAUM,KAAKJ,MAAOI,KAAKH,QASnE,IALA,IAAM6B,EAAU,GACVC,EAAU,GAIP3E,EAAE,EAAGA,EAAGgD,KAAK1H,MAAM2H,SAASlD,MAAM6E,OAAQ5E,IAAI,CAErDR,QAAQC,IAAI,QAAQuD,KAAK1H,MAAM2H,SAASlD,MAAMC,IAC9C,IAAI6E,EAAW,IAAInB,cAAkBV,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8E,KAAKtG,EAAGwE,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8E,KAAKC,EAAG/B,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8E,KAAKf,GAG7IN,EAAQ,IAAIC,QAAYV,KAAK1B,WAAW0B,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAGoB,cAGrEuC,EAAW,IAAID,sBAA0B,CAAED,UAE3CuB,EAAO,IAAItB,eAAmB,IAAIA,gBAAoBmB,GAAW,IAAInB,oBAAwB,CAC/FD,MAAO,aAITiB,EAAQ3H,KAAK,IAAI2G,OAAWmB,EAAUlB,IACtCgB,EAAQ5H,KAAKiI,GAGf,IAAK,IAAIhF,EAAI,EAAGA,EAAI0E,EAAQE,OAAQ5E,IAGlC0E,EAAQ1E,GAAG8D,SAASmB,IAAIjC,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8D,SAAStF,EAAGwE,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8D,SAASiB,EAAG/B,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8D,SAASC,GAChJY,EAAQ3E,GAAG8D,SAASmB,IAAIjC,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8D,SAAStF,EAAGwE,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8D,SAASiB,EAAG/B,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG8D,SAASC,GAGhJW,EAAQ1E,GAAGkF,KAAOlC,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAGe,SAC/C2D,EAAQ1E,GAAGmF,OAASnC,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAGgB,WACjD0D,EAAQ1E,GAAGoF,OAASpC,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAGiB,WACjDyD,EAAQ1E,GAAGqF,KAAOrC,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAGkB,SAC/CwD,EAAQ1E,GAAGuD,IAAMP,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAGmB,QAC9CuD,EAAQ1E,GAAGwD,QAAUR,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAGoB,YAClDsD,EAAQ1E,GAAGqB,OAAS2B,KAAK1H,MAAM2H,SAASlD,MAAMC,GAAG1C,GAGjDoH,EAAQ1E,GAAGsF,OAAS,UAIpBZ,EAAQ1E,GAAGuF,GAAG,SAAS,SAACvD,GACxB,EAAKC,SAAS,CACZnB,OAAQ,EAAKD,MAAMC,MACnBxD,GAAI0E,EAAGjG,OAAOyJ,KACdnE,OAAQW,EAAGjG,OAAOsF,OAClBN,SAAUiB,EAAGjG,OAAOmJ,KACpBlE,WAAYgB,EAAGjG,OAAOoJ,OACtBlE,WAAYe,EAAGjG,OAAOqJ,OACtBlE,SAAUc,EAAGjG,OAAOsJ,KACpBlE,QAASa,EAAGjG,OAAOwH,IACnBnC,YAAaY,EAAGjG,OAAOyH,UACvB,kBAAIhE,QAAQC,IAAI,gBAAgB,EAAKoB,aAKvCmC,KAAKJ,MAAM6C,IAAIf,EAAQ1E,IACvBgD,KAAKJ,MAAM6C,IAAId,EAAQ3E,IACzBR,QAAQC,IAAIuD,KAAKJ,OAIjBI,KAAKlC,OAAQ,EAIZkC,KAAK0C,aAAe,IAAIhC,eAAmB,SAAU,IACtDV,KAAKJ,MAAM6C,IAAIzC,KAAK0C,cAInB1C,KAAK2C,SAAW,IAAIjC,mBAAuB,SAAU,EAAK,KAC3DV,KAAKJ,MAAM6C,IAAIzC,KAAK2C,UAGpB3C,KAAKd,U,6CAgBLc,KAAKV,OACLU,KAAKmB,MAAMyB,YAAY5C,KAAKN,SAAS2B,c,+BA8C7B,IAAD,OACT,OACE,6BACE,0BAAMtG,UAAU,kBAAkB5B,SAAU6G,KAAKF,cAChDE,KAAKnC,MAAMC,OACV,oCACA,yBAAK/C,UAAU,QAAQT,GAAG,yBAAyBuI,SAAS,KAAKC,KAAK,SAASC,kBAAgB,8BAA8BC,cAAY,QAEzI,yBAAKjI,UAAU,qCAAqC+H,KAAK,YACzD,yBAAK/H,UAAU,iBACf,yBAAKA,UAAU,gBACP,wBAAIA,UAAU,cAAcT,GAAG,2BAA2B0F,KAAKnC,MAAME,SAArE,IAAgFiC,KAAKnC,MAAMG,YACnG,4BAAQ5D,KAAK,SAASgB,QAAS,kBAAI,EAAK2D,cAAchE,UAAU,QAAQkI,eAAa,QAAQC,aAAW,SACxG,0BAAMF,cAAY,QAAlB,UAGA,yBAAKjI,UAAU,cACP,wCAAciF,KAAKnC,MAAMI,WAAzB,OACA,sCAAY+B,KAAKnC,MAAMK,SAAvB,OAEA,yBAAKnD,UAAU,eACb,yBAAKA,UAAU,yBAAf,WAAgDiF,KAAKnC,MAAMM,SAC3D,2BAAO/D,KAAK,SAASpB,KAAK,UAAUC,MAA8B,IAAvB+G,KAAKnC,MAAMM,QAAgB,GAAK6B,KAAKnC,MAAMM,QAAS9D,SAAU2F,KAAKnH,gBAGhH,yBAAKkC,UAAU,eACb,yBAAKA,UAAU,yBAAf,WAAgDiF,KAAKnC,MAAMO,YAA3D,UADF,IACsF,2BAAOhE,KAAK,SAASpB,KAAK,cAAcC,MAAkC,IAA3B+G,KAAKnC,MAAMO,YAAoB,GAAK4B,KAAKnC,MAAMO,YAAc/D,SAAU2F,KAAKnH,iBAIzN,yBAAKkC,UAAU,gBACf,4BAAQX,KAAK,SAASW,UAAU,mBAAhC,oBAKA,yBAAKA,UAAU,4BAKjB,yBAEEoI,MAAO,CAAEC,MAAO,QAASC,OAAQ,SAC/BC,IAAK,SAACnC,GAAY,EAAKA,MAAQA,W,GArRJoC,aC8GtBC,EA9GE,SAAClL,GAAW,IA6CI,EA7CL,EACMC,mBAAS,QADf,mBACjBkL,EADiB,KACR/H,EADQ,OAEanD,mBAAS,IAFtB,mBAEhBmL,EAFgB,KAEJjI,EAFI,OAGQlD,mBAAS,IAHjB,mBAGjB+C,EAHiB,KAGPqB,EAHO,OAIwBpE,mBAAS,CACrDoD,MAAO,GACPU,YAAa,KANO,mBAIjBD,EAJiB,KAICD,EAJD,OASI5D,mBAAS,IATb,mBASjB0H,EATiB,KASPlE,EATO,KAgCxB,OArBE4H,qBAAU,WACNtK,IAAMqD,IAAN,wBAA2BpE,EAAM2C,KAAKsB,MAAOhD,MAAK,SAAA+B,GAC9CqB,EAAYrB,EAAS7B,MAErB+C,QAAQC,IAAInB,EAAS7B,SAEzBiC,EAAW,UACZ,IAGLc,QAAQC,IAAI,6BAWI,SAAZgH,GACAjH,QAAQC,IAAI,OAAOnE,EAAM2C,MAGrB,6BACI,yBAAKF,UAAU,OACX,kBAAC,EAAD,CAAYO,SAAUA,EAAUI,WAAYA,EAAYD,cAAeA,IACvE,yBAAKV,UAAU,4BAMV,SAAV0I,EAEH,6BACI,yBAAK1I,UAAU,OACX,kBAAC,EAAD,CAAYO,SAAUA,EAAUI,WAAYA,EAAYD,cAAeA,IACvE,yBAAKV,UAAU,wBAEf,kBAAC,GAAD,GAAeW,WAAYA,EAAYU,iBAAkBA,EAAkBD,oBAAqBA,GAAhG,2BAAiIT,GAAjI,4BAA0JiB,GAA1J,yBAAiLrB,GAAjL,yBAAqM2E,GAArM,wBAAwNlE,GAAxN,qBAAuOzD,EAAM2C,MAA7O,OAMO,eAAZwI,EAEH,6BACA,yBAAK1I,UAAU,OACf,kBAAC,EAAD,CAAYO,SAAUA,EAAUI,WAAYA,EAAYD,cAAeA,IACnE,yBAAKV,UAAU,wBACP,iCAAM,gCAAM2I,EAAW/H,WAKpB,eAAZ8H,EAEH,6BACA,yBAAK1I,UAAU,OACf,kBAAC,EAAD,CAAYO,SAAUA,EAAUI,WAAYA,EAAYD,cAAeA,IACvE,yBAAKV,UAAU,wBACf,kBAAC,EAAD,CAAYU,cAAeA,EAAeyB,QAAS5B,EAASA,EAASsG,OAAS,GAAI3B,SAAUA,EAAUlE,QAASA,EAASL,WAAYA,OAUrH,YAAZ+H,GACPjH,QAAQC,IAAIiH,GAER,6BACA,yBAAK3I,UAAU,OACf,kBAAC,EAAD,CAAYO,SAAUA,EAAUI,WAAYA,EAAYD,cAAeA,IACnE,yBAAKV,UAAU,wBACP,kBAAC,EAAD,CACIO,SAAUA,EACdG,cAAeA,EACXyB,QAASwG,EAAYzD,SAAUyD,EAAWvG,KAAOuG,EAAWvG,KAAO8C,EAAUtD,YAAaA,aAV3G,GCnFIiH,EARF,WACX,OACE,uCC8CWC,EAxCH,SAACvL,GAAW,IAAD,EACGC,mBAASD,EAAM2C,MADlB,mBACdA,EADc,KACRpB,EADQ,KAGrB,OADA2C,QAAQC,IAAInE,EAAM2C,MAEhB,yBAAKF,UAAU,OACb,kBAAC,EAAD,CAAQE,KAAMA,EAAMpB,QAASA,IAC7B,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEiK,OAAK,EACLC,KAAK,IACLC,UAAWJ,IAEb,kBAAC,IAAD,CACEE,OAAK,EACLC,KAAK,UAELC,UAAW,SAAA1L,GAAK,OAAI,kBAAC,EAAD,eAAQuB,QAASA,GAAavB,OAEpD,kBAAC,IAAD,CACEwL,OAAK,EACLC,KAAK,SAELC,UAAW,SAAA1L,GAAK,OAAI,kBAAC,EAAD,eAAOuB,QAASA,GAAavB,OAEnD,kBAAC,IAAD,CACEwL,OAAK,EACLC,KAAK,YAGLC,UAAW,SAAA1L,GACT,OAAI2C,EAAa,kBAAC,EAAD,eAAUA,KAAMA,GAAU3C,IAC/B,kBAAC,IAAD,CAAU6C,GAAG,YC7BjB8I,QACW,cAA7BxE,OAAOyE,SAASC,UAEe,UAA7B1E,OAAOyE,SAASC,UAEhB1E,OAAOyE,SAASC,SAASC,MACvB,2DCRN/K,IAAMqD,IAAI,sBAAsBnD,MAAK,SAAAC,GACnC,IAAMyB,EAAOzB,EAASC,KACtB+C,QAAQC,IAAIxB,GACZoJ,IAAS1E,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAK1E,KAAMA,KAEbqJ,SAASC,eAAe,YDgHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMnL,MAAK,SAAAoL,GACjCA,EAAaC,kB","file":"static/js/main.6ccba98d.chunk.js","sourcesContent":["// auth/Signup.js\r\nimport React, { useState } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { signup } from \"../services/api\";\r\n\r\nconst Signup = (props) => {\r\n  const [userInfo, setUserInfo] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    message: \"\"\r\n  })    \r\n  \r\n    const handleChange = event => {\r\n      const { name, value } = event.target;\r\n  \r\n      setUserInfo({\r\n        ...userInfo, [name]: value\r\n      });\r\n    };\r\n  \r\n    const handleSubmit = event => {\r\n      event.preventDefault();\r\n  \r\n      const { username, password } = userInfo;\r\n  \r\n      signup(username, password).then(data => {\r\n        if (data.message) {\r\n          setUserInfo({\r\n            message: data.message,\r\n            username: \"\",\r\n            password: \"\"\r\n          });\r\n        } else {\r\n          // successfully signed up\r\n          // update the state for the parent component\r\n          props.setUser(data);\r\n          props.history.push(\"/projects\");\r\n        }\r\n      });\r\n    };\r\n  \r\n      return (\r\n        <>\r\n          <h2>Signup</h2>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label htmlFor=\"username\">Username: </Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={userInfo.username}\r\n                onChange={handleChange}\r\n                id=\"username\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <Form.Label htmlFor=\"password\">Password: </Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={userInfo.password}\r\n                onChange={handleChange}\r\n                id=\"password\"\r\n              />\r\n            </Form.Group>\r\n            {userInfo.message && (\r\n              <Alert variant=\"danger\">{userInfo.message}</Alert>\r\n            )}\r\n            <Button type=\"submit\">Signup</Button>\r\n          </Form>\r\n        </>\r\n      );\r\n    }\r\n  export default Signup","// src/services/api.js\r\nimport axios from \"axios\";\r\n\r\nconst signup = (username, password) => {\r\n  return axios\r\n    .post(\"/api/auth/signup\", { username, password })\r\n    .then(response => {\r\n      return response.data;\r\n    })\r\n    .catch(err => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst login = (username, password) => {\r\n  return axios\r\n    .post(\"/api/auth/login\", { username, password })\r\n    .then(response => {\r\n      return response.data;\r\n    })\r\n    .catch(err => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst logout = () => {\r\n  return axios\r\n    .delete(\"/api/auth/logout\")\r\n    .then(response => {\r\n      return response.data;\r\n    })\r\n    .catch(err => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nexport { signup, login, logout };\r\n","import React, { useState } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { login } from \"../services/api\";\r\n\r\nconst Login = (props) => {\r\n  const [userInfo, setUserInfo] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    message: \"\"\r\n  })\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setUserInfo({\r\n      ...userInfo, [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { username, password } = userInfo;\r\n\r\n    login(username, password).then(data => {\r\n      if (data.message) {\r\n        setUserInfo({\r\n          message: data.message,\r\n          username: \"\",\r\n          password: \"\"\r\n        });\r\n      } else {\r\n        // successfully logged in\r\n        // update the state for the parent component\r\n        props.setUser(data);\r\n        props.history.push(\"/projects\");\r\n      }\r\n    });\r\n  };\r\n\r\n    return (\r\n      <>\r\n        <h2>Login</h2>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"username\">Username: </Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={userInfo.username}\r\n              onChange={handleChange}\r\n              id=\"username\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"password\">Password: </Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={userInfo.password}\r\n              onChange={handleChange}\r\n              id=\"password\"\r\n            />\r\n          </Form.Group>\r\n          {userInfo.message && (\r\n            <Alert variant=\"danger\">{userInfo.message}</Alert>\r\n          )}\r\n          <Button type=\"submit\">Login</Button>\r\n        </Form>\r\n      </>\r\n    );\r\n  }\r\n\r\nexport default Login","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar as Nav } from \"react-bootstrap\";\r\nimport { logout } from \"../services/api\";\r\n\r\nconst handleLogout = props => {\r\n  logout().then(() => {\r\n    props.setUser(null);\r\n  });\r\n};\r\n\r\nconst Navbar = props => {\r\n  return (\r\n    <Nav className=\"nav justify-content-end fixed-top\" bg=\"primary\">\r\n      {props.user && <Nav.Brand>Welcome, {props.user.username}</Nav.Brand>}\r\n      <Nav.Brand>\r\n        <Link to=\"/\">Home</Link>\r\n      </Nav.Brand>\r\n\r\n      {props.user ? (\r\n        <>\r\n          <Nav.Brand>\r\n            <Link to=\"/projects\">Projects</Link>\r\n          </Nav.Brand>\r\n          <Nav.Brand>\r\n            <Link to=\"/\" onClick={() => handleLogout(props)}>\r\n              Logout\r\n            </Link>\r\n          </Nav.Brand>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Nav.Brand>\r\n            <Link to=\"/signup\">Signup</Link>\r\n          </Nav.Brand>\r\n          <Nav.Brand>\r\n            <Link to=\"/login\">Login</Link>\r\n          </Nav.Brand>\r\n        </>\r\n      )}\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react'\r\n\r\nconst ProjectBar = (props) => {\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"col-2 projectBar\">\r\n            <h5>Projects</h5>\r\n\r\n            {props.projects.map(x => {\r\n                return (\r\n                    <div onClick={() => {\r\n                        \r\n                        props.setOneProject(x)\r\n                        props.setDisplay(\"ThreeJS\")\r\n                    }}>{x.title}</div>\r\n                )\r\n            })}\r\n  \r\n            <button onClick={()=>props.setDisplay(\"Form\")}  className=\"btn btn-dark\">New</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProjectBar\r\n","import React, {useState, useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport Files from \"react-files\";\r\n\r\n\r\nconst CreateProject = (props) => {\r\n\r\n  let fileReader = new FileReader()\r\n  fileReader.onload = event => {\r\n      props.setFile(JSON.parse(event.target.result));\r\n  };    \r\n\r\nconst handleChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    props.setcreateNewProject({\r\n      ...props.createNewProject, [name]: value\r\n    });\r\n  };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n    \r\n        axios\r\n          .post(\"/api/projects\", {\r\n            title: props.createNewProject.title,\r\n            description: props.createNewProject.description,\r\n            owner: props.user._id\r\n          })\r\n          .then((response) => {\r\n            console.log(response.data)\r\n            props.setDisplay(\"newProject\")\r\n            })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      \r\n          axios.get(`/api/projects/${props.user._id}`).then(projects => {\r\n              props.setProjects(projects.data)\r\n              console.log(projects.data)\r\n          })\r\n      \r\n      };\r\n    \r\n\r\n    \r\n    return (\r\n        <div>\r\n        <h2>Add task: </h2>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Title:</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={props.createNewProject.title}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Description:</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"description\"\r\n              value={props.description}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n\r\n          {/*<Form.Group>\r\n          <Form.Label>Upload file:</Form.Label>\r\n          <div className=\"files\">\r\n        <Files\r\n          className=\"files-dropzone btn-danger\"\r\n          onChange={file => {\r\n            fileReader.readAsText(file[0]);\r\n          }}\r\n          onError={err => console.log(err)}\r\n          accepts={[\".json\"]}\r\n          multiple\r\n          maxFiles={3}\r\n          maxFileSize={10000000}\r\n          minFileSize={0}\r\n          clickable\r\n        >\r\n          Drop files here or click to upload\r\n        </Files>\r\n      </div>\r\n        </Form.Group>*/}\r\n        <Button type=\"submit\" >Add</Button>\r\n        </Form>\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n    {/*<button onClick={()=>props.setDisplay(\"newProject\")} type=\"submit\">Add new Project</button>*/}\r\n</div>\r\n    )\r\n}\r\n\r\nexport default CreateProject\r\n","import React, {useState, useEffect} from 'react'\r\nimport Files from \"react-files\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\"\r\n\r\nconst UploadFile = (props) => {\r\n  \r\n  let fileReader = new FileReader()\r\n  fileReader.onload = event => {\r\n    let newFile = JSON.parse(event.target.result)\r\n\r\n    //ADD uniq ID FOR EVERY ROOM\r\n    newFile.rooms = newFile.rooms.map((x,i) => {\r\n      x.id = i; \r\n      return x;\r\n    })\r\n\r\n    props.setFile(newFile);\r\n    axios.put(`/api/projects/${props.project._id}`, {\r\n      file: newFile\r\n    }).then(response => {\r\n      props.setOneProject(response.data)\r\n      props.setDisplay(\"ThreeJS\")\r\n    })\r\n}\r\n\r\n  \r\n  return (\r\n    <div className=\"upload-page\">\r\n    <Form.Group>\r\n          <div className=\"files\">\r\n        <Files\r\n          className=\"files-dropzone\"\r\n          onChange={file => {\r\n            fileReader.readAsText(file[0]);\r\n          }}\r\n          onError={err => console.log(err)}\r\n          accepts={[\".json\"]}\r\n          multiple\r\n          maxFiles={3}\r\n          maxFileSize={10000000}\r\n          minFileSize={0}\r\n          clickable\r\n        >\r\n          Drop files here or click to upload\r\n        </Files>\r\n      </div>\r\n        </Form.Group>    </div>\r\n  )\r\n}\r\n\r\nexport default UploadFile\r\n","import React, { Component } from 'react'\r\nimport * as THREE from 'three';\r\nimport OrbitControls from \"three-orbitcontrols\"\r\nimport { Interaction } from \"three.interaction\"\r\nimport axios from \"axios\"\r\n\r\n\r\n\r\nexport default class ThreeJS extends Component {\r\n  state = {\r\n    popup: false,\r\n    id: \"\",\r\n    roomName: \"\",\r\n    roomNumber: 0,\r\n    roomVolume: 0,\r\n    roomArea: 0,\r\n    roomAHU: 0,\r\n    roomAirflow: 0,\r\n    roomID: \"\",\r\n\r\n  }\r\n\r\n  perc2color=(perc)=> {\r\n   \r\n    var r, g, b = 0;\r\n    if(perc < 50) {\r\n        r = 255;\r\n        g = Math.round(5.1 * perc);\r\n    }\r\n    else {\r\n        g = 255;\r\n        r = Math.round(510 - 5.10 * perc);\r\n    }\r\n    let h = r * 0x10000 + g * 0x100 + b * 0x1;\r\n    return  \"#\"+((\"000000\" + h.toString(16)).slice(-6));\r\n\r\n   \r\n      // let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(rgb);\r\n      //   console.log( {\r\n      //     r: parseInt(result[1], 16),\r\n      //     g: parseInt(result[2], 16),\r\n      //     b: parseInt(result[3], 16)\r\n      //   } )\r\n      // return result ? {\r\n      //   r: parseInt(result[1], 16),\r\n      //   g: parseInt(result[2], 16),\r\n      //   b: parseInt(result[3], 16)\r\n      // } : null;\r\n    \r\n      \r\n      \r\n      \r\n}\r\n\r\n  componentDidUpdate() {\r\n\r\n    let colorArr = [{r:25, g:229, b:0},{r:255, g:0, b:0},{r:173, g:70, b:0},{r:0, g:255, b:0}]\r\n    \r\n    this.props.jsonFile.rooms.forEach((room,i) => {\r\n      //Updating all rooms with the new value\r\n      const mesh = this.scene.children.find(x => x.roomID === room.id)\r\n      mesh.AHU = room.roomAHU;\r\n      mesh.Airflow = room.roomAirflow;\r\n      let color = new THREE.Color(this.perc2color(mesh.Airflow))\r\n\r\n       mesh.material.color = color\r\n      // mesh.material.color.setHex(this.perc2color(mesh.Airflow) )\r\n     \r\n    })\r\n  }\r\n\r\n  componentDidMount(){\r\n    // const width = this.mount.clientWidth\r\n    // const height = this.mount.clientHeight\r\n    //ADD SCENE\r\n    this.scene = new THREE.Scene()\r\n    //ADD CAMERA\r\n    this.camera = new THREE.PerspectiveCamera(\r\n      20,\r\n      window.innerWidth / window.innerHeight,\r\n      20,\r\n      1000\r\n    );\r\n    \r\n    this.camera.position.z = 100\r\n    //ADD RENDERER\r\n    this.renderer = new THREE.WebGLRenderer({ antialias: true })\r\n    this.renderer.setClearColor('#000000')\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight)\r\n    this.mount.appendChild(this.renderer.domElement)\r\n    //ADD Control to the renderer\r\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n\r\n    // ADD interaction\r\n    this.interaction = new Interaction(this.renderer, this.scene, this.camera);\r\n    \r\n    \r\n    //Magic\r\n    const cubeArr = []\r\n    const lineArr = []\r\n\r\n\r\n\r\n    for (let i=0; i <this.props.jsonFile.rooms.length; i++){\r\n      //ADD GEOMETRY\r\n      console.log(\"iiiii\",this.props.jsonFile.rooms[i])\r\n      let geometry = new THREE.BoxGeometry(this.props.jsonFile.rooms[i].size.x, this.props.jsonFile.rooms[i].size.y, this.props.jsonFile.rooms[i].size.z);\r\n      //ADD MATERIAL\r\n   \r\n      let color = new THREE.Color(this.perc2color(this.props.jsonFile.rooms[i].roomAirflow))\r\n\r\n       \r\n      let material = new THREE.MeshLambertMaterial({ color });\r\n      //ADD EDGES AND LINE\r\n      let line = new THREE.LineSegments(new THREE.EdgesGeometry(geometry), new THREE.LineBasicMaterial({\r\n        color: \"#000000\"}));\r\n    \r\n\r\n      //ADD ARRAY OF MESHES\r\n      cubeArr.push(new THREE.Mesh(geometry, material)) \r\n      lineArr.push(line)\r\n     }\r\n\r\n    for (let i = 0; i < cubeArr.length; i++){\r\n      \r\n      //ADD POSITION \r\n      cubeArr[i].position.set(this.props.jsonFile.rooms[i].position.x, this.props.jsonFile.rooms[i].position.y, this.props.jsonFile.rooms[i].position.z);\r\n      lineArr[i].position.set(this.props.jsonFile.rooms[i].position.x, this.props.jsonFile.rooms[i].position.y, this.props.jsonFile.rooms[i].position.z);\r\n\r\n      //ADD PROPERTIES\r\n      cubeArr[i].Name = this.props.jsonFile.rooms[i].roomName;\r\n      cubeArr[i].Number = this.props.jsonFile.rooms[i].roomNumber;  \r\n      cubeArr[i].Volume = this.props.jsonFile.rooms[i].roomVolume; \r\n      cubeArr[i].Area = this.props.jsonFile.rooms[i].roomArea;  \r\n      cubeArr[i].AHU = this.props.jsonFile.rooms[i].roomAHU;\r\n      cubeArr[i].Airflow = this.props.jsonFile.rooms[i].roomAirflow;\r\n      cubeArr[i].roomID = this.props.jsonFile.rooms[i].id;\r\n\r\n      //ADD POINTER\r\n      cubeArr[i].cursor = 'pointer';\r\n\r\n\r\n      //ADD EVENT\r\n      cubeArr[i].on('click', (ev) => {\r\n      this.setState({\r\n        popup: !this.state.popup,\r\n        id: ev.target.uuid,\r\n        roomID: ev.target.roomID,\r\n        roomName: ev.target.Name,\r\n        roomNumber: ev.target.Number,\r\n        roomVolume: ev.target.Volume,\r\n        roomArea: ev.target.Area,\r\n        roomAHU: ev.target.AHU,\r\n        roomAirflow: ev.target.Airflow\r\n      },()=>console.log(\"state update:\",this.state))\r\n    });\r\n\r\n\r\n      //ADD CUBE TO SCENE\r\n      this.scene.add(cubeArr[i]);\r\n      this.scene.add(lineArr[i]);\r\n    console.log(this.scene)\r\n    }\r\n    \r\n    //ADD POPUP REFERENCE\r\n    this.popup = false\r\n    \r\n\r\n     //Add AMBIENT LIGHT\r\n     this.lightAmbient = new THREE.AmbientLight(0xffffff, 0.5);\r\n    this.scene.add(this.lightAmbient)\r\n\r\n\r\n     //ADD SUNLIGHT\r\n     this.sunLight = new THREE.DirectionalLight(0xffffff, 2.0, 1000);\r\n    this.scene.add(this.sunLight)\r\n\r\n    //SHOW CUBES IN SCENE\r\n    this.start()\r\n  }\r\n\r\n  closePopup = (ev) => {\r\n    this.setState({\r\n        popup: !this.state.popup,\r\n      })\r\n  }\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  \r\ncomponentWillUnmount(){\r\n    this.stop()\r\n    this.mount.removeChild(this.renderer.domElement)\r\n  }\r\nstart = () => {\r\n    if (!this.frameId) {\r\n      this.frameId = requestAnimationFrame(this.animate)\r\n    }\r\n  }\r\nstop = () => {\r\n    cancelAnimationFrame(this.frameId)\r\n  }\r\nanimate = () => {\r\n  //  this.cube.rotation.x += 0.01\r\n  // this.cube.rotation.y += 0\r\n  // this.cube1.rotation.x -= 0.01\r\n  //  this.cube1.rotation.y += 0\r\n   this.renderScene()\r\n   this.frameId = window.requestAnimationFrame(this.animate)\r\n }\r\nrenderScene = () => {\r\n  this.renderer.render(this.scene, this.camera)\r\n  }\r\n  \r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const {roomAHU, roomAirflow, roomID} = this.state\r\n    console.log(this.props.project);\r\n    axios.put(`/api/projects/${this.props.project._id}`, {\r\n      roomAHU, roomAirflow, roomID\r\n    }).then(response => {\r\n      this.props.setOneProject(response.data)\r\n    let updatedProjects =  this.props.projects.map(project => {\r\n        if (project._id === response.data._id) {\r\n          return response.data\r\n        }else return project\r\n      })\r\n      this.props.setProjects(updatedProjects)\r\n      // axios.get(\"/api/projects\").then(projects => {\r\n      //   this.props.setProjects(projects.data)\r\n      // })\r\n    })\r\n    // props.setDisplay(\"ThreeJS\")\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n  return (\r\n    <div>\r\n      <form className=\"form-roomSubmit\" onSubmit={this.handleSubmit}>\r\n      {this.state.popup && \r\n        <>\r\n        <div className=\"popup\" id=\"exampleModalScrollable\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalScrollableTitle\" aria-hidden=\"true\">\r\n        \r\n        <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\" id=\"exampleModalCenterTitle\">{this.state.roomName} {this.state.roomNumber}</h5>\r\n        <button type=\"button\" onClick={()=>this.closePopup()} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n                <div>Volume: {this.state.roomVolume} m3</div>\r\n                <div>Area: {this.state.roomArea} m3</div>\r\n                \r\n                <div className=\"popup-input\">\r\n                  <div className=\"popup-changeableInput\"> AHU-VE {this.state.roomAHU}</div>\r\n                  <input type=\"number\" name=\"roomAHU\" value={this.state.roomAHU === 0 ? \"\" : this.state.roomAHU} onChange={this.handleChange} />\r\n                </div>\r\n                \r\n                <div className=\"popup-input\">\r\n                  <div className=\"popup-changeableInput\">Airflow {this.state.roomAirflow} m3/h </div> <input type=\"number\" name=\"roomAirflow\" value={this.state.roomAirflow === 0 ? \"\" : this.state.roomAirflow}  onChange={this.handleChange} />\r\n                </div>\r\n\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n        <button type=\"submit\" className=\"btn btn-primary\">Save changes</button>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        <div className=\"transparent-background\">\r\n        </div>\r\n        </>\r\n      } \r\n      \r\n      <div\r\n     \r\n        style={{ width: '400px', height: '400px' }}\r\n          ref={(mount) => { this.mount = mount }}\r\n          \r\n        \r\n      >\r\n</div>\r\n    \r\n</form>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, {useState, useEffect} from 'react'\r\nimport ProjectBar from \"./ProjectBar\"\r\nimport axios from \"axios\"\r\nimport CreateProject from \"./CreateProject\"\r\nimport UploadFile from \"./UploadFile\"\r\nimport ThreeJS from \"./ThreeJS\"\r\n\r\n\r\nconst Projects = (props) => {\r\n    const [display, setDisplay] = useState(\"None\")\r\n    const  [oneProject, setOneProject] = useState({})\r\n    const [projects, setProjects] = useState([])\r\n    const [createNewProject, setcreateNewProject] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n    })\r\n\r\n    const [jsonFile, setFile] = useState({})\r\n\r\n      useEffect(() => {\r\n          axios.get(`/api/projects/${props.user._id}`).then(projects => {\r\n              setProjects(projects.data)\r\n\r\n              console.log(projects.data)\r\n          })\r\n          setDisplay(\"None\")\r\n      }, [])\r\n    \r\n    \r\n    console.log(\"Projects component render\")\r\n    \r\n//       useEffect(() => {\r\n//         axios.get(\"/projects\").then(projects => {\r\n//             setProjects(projects.data)\r\n\r\n//             console.log(projects.data)\r\n//         })\r\n//         setDisplay(\"ThreeJS\")\r\n// }, [jsonFile])\r\n\r\n    if (display === \"None\") {\r\n        console.log(\"user\",props.user)\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <ProjectBar projects={projects} setDisplay={setDisplay} setOneProject={setOneProject}/>\r\n                    <div className=\"col-10 projectScreen\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n        \r\n    } else if (display===\"Form\") {\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <ProjectBar projects={projects} setDisplay={setDisplay} setOneProject={setOneProject} />\r\n                    <div className=\"col-10 projectScreen\">\r\n\r\n                    <CreateProject setDisplay={setDisplay} createNewProject={createNewProject} setcreateNewProject={setcreateNewProject} setDisplay={setDisplay} setProjects={setProjects} projects={projects} jsonFile={jsonFile} setFile={setFile} user={props.user}/>\r\n                    </div>\r\n                    </div>\r\n\r\n            </div>\r\n        )\r\n    } else if (display === \"oneProject\") {\r\n        return ( \r\n            <div>\r\n            <div className=\"row\">\r\n            <ProjectBar projects={projects} setDisplay={setDisplay} setOneProject={setOneProject}/>\r\n                <div className=\"col-10 projectScreen\">\r\n                        <div> <h1> {oneProject.title}</h1></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    } else if (display === \"newProject\") {\r\n        return ( \r\n            <div>\r\n            <div className=\"row\">\r\n            <ProjectBar projects={projects} setDisplay={setDisplay} setOneProject={setOneProject}/>\r\n            <div className=\"col-10 projectScreen\">\r\n            <UploadFile setOneProject={setOneProject} project={projects[projects.length - 1]} jsonFile={jsonFile} setFile={setFile} setDisplay={setDisplay}/>\r\n                        \r\n                        {/*<p>NewProjectShown</p>\r\n                        <p>{createNewProject.title}</p>\r\n                        <p>{createNewProject.description}</p>\r\n                        <p>{JSON.stringify(jsonFile)} whaaat{console.log(createNewProject, jsonFile)}</p>*/}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    } else if (display === \"ThreeJS\") {\r\n        console.log(oneProject)\r\n        return ( \r\n            <div>\r\n            <div className=\"row\">\r\n            <ProjectBar projects={projects} setDisplay={setDisplay} setOneProject={setOneProject}/>\r\n                <div className=\"col-10 projectScreen\">\r\n                        <ThreeJS\r\n                            projects={projects}\r\n                        setOneProject={setOneProject}\r\n                            project={oneProject} jsonFile={oneProject.file ? oneProject.file : jsonFile} setProjects={setProjects} />\r\n                        \r\n                        {/*<p>NewProjectShown</p>\r\n                        <p>{createNewProject.title}</p>\r\n                        <p>{createNewProject.description}</p>\r\n                        <p>{JSON.stringify(jsonFile)} whaaat{console.log(createNewProject, jsonFile)}</p>*/}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    \r\n   \r\n}\r\n\r\nexport default Projects\r\n","import React from 'react'\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div>\r\n      Nope!\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, {useState} from 'react';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"./App.css\";\r\nimport Signup from './components/Signup';\r\nimport Login from \"./components/Login\";\r\nimport { Route, Redirect } from \"react-router-dom\";import { Switch } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport Projects from \"./components/Projects\";\r\nimport Home from \"./components/Home\";\r\n\r\nconst App = (props) => {\r\n  const [user, setUser] = useState(props.user)\r\n  console.log(props.user)\r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar user={user} setUser={setUser}/>\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          component={Home}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/signup\"\r\n          // component={Signup setUser={setUser}}\r\n          component={props => <Signup setUser={setUser} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/login\"\r\n          // component={Login setUser={setUser}}\r\n          component={props => <Login setUser={setUser} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/projects\"\r\n          // component={Projects}\r\n\r\n          component={props => {\r\n            if (user) return <Projects user={user} {...props} />;\r\n            else return <Redirect to=\"/\" />;\r\n          }}\r\n          \r\n        />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\naxios.get(\"/api/auth/loggedin\").then(response => {\r\n  const user = response.data;\r\n  console.log(user);\r\n  ReactDOM.render(\r\n    <BrowserRouter>\r\n      <App user={user}/>\r\n    </BrowserRouter>,\r\n    document.getElementById(\"root\")\r\n  );\r\n});\r\n\r\n    \r\n    // If you want your app to work offline and load faster, you can change\r\n    // unregister() to register() below. Note this comes with some pitfalls.\r\n    // Learn more about service workers: https://bit.ly/CRA-PWA\r\n    serviceWorker.unregister();\r\n"],"sourceRoot":""}